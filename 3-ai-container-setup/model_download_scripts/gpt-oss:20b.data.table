Thinking...
We need to produce an R program using data.table that reads offices.csv and homes.csv, join on employee_id, keep only those in both, write result to result.csv. The columns are text, but that doesn't matter. Provide R code with comments. Possibly mention using fread and fwrite. Provide solution. Provide entire script. Should ensure output columns order: employee_id, work_address, home_address. Should use data.table's merge function or J. Use by = employee_id. Could use result <- merge(offices, homes, by="employee_id", all=FALSE). Ensure only rows that exist in both. Or use offices[homes, on="employee_id"] maybe produce all = FALSE? The join in data.table can use [homes, on="employee_id", nomatch=0] for inner join. Let's produce simple solution. Provide code. Add setkey? Use merge. Provide reading and writing. Also note that reading with fread will auto detect column types. Should set stringsAsFactors=FALSE maybe? Actually fread returns character columns by default? In R 4.0 maybe. Use colClasses. Provide explicit colClasses: "character". Provide. Good. Provide code. Provide explanation. Let's produce final answer.
...done thinking.

Below is a **stand‑alone R script** that uses the `data.table` package to perform all the steps you asked for.

```r
#!/usr/bin/env Rscript
#
#  join_offices_homes.R
#
#  1.  Read offices.csv  ->  data.table  offices
#  2.  Read homes.csv    ->  data.table  homes
#  3.  Inner‑join on employee_id
#  4.  Write the result to result.csv
#
#  Usage: Rscript join_offices_homes.R
#
#  Requires: data.table  (install.packages("data.table") if missing)
#

# ------------------------------------------------------------------
# 1. Load the data.table package ------------------------------------------------
# ------------------------------------------------------------------
if (!requireNamespace("data.table", quietly = TRUE)) {
  stop("Package 'data.table' is required but not installed.\n",
       "Install it with: install.packages('data.table')")
}
library(data.table)

# ------------------------------------------------------------------
# 2. Read the two CSV files ----------------------------------------------------
# ------------------------------------------------------------------
# We explicitly set the column types to character so that the
# resulting data.table has text columns.
offices <- fread(
  "offices.csv",
  colClasses = list(character = c("employee_id", "work_address")),
  data.table = TRUE
)

homes <- fread(
  "homes.csv",
  colClasses = list(character = c("employee_id", "home_address")),
  data.table = TRUE
)

# ------------------------------------------------------------------
# 3. Inner‑join on employee_id ----------------------------------------
# ------------------------------------------------------------------
# The simplest and most readable way is to use merge() with all=FALSE
# (the default is all=TRUE for a full outer join).
# The result will automatically have the columns in the order
# employee_id, work_address, home_address.
result <- merge(
  x = offices,
  y = homes,
  by = "employee_id",
  all = FALSE          # inner join only
)

# ------------------------------------------------------------------
# 4. Write the joined table to result.csv -----------------------------
# ------------------------------------------------------------------
fwrite(result, "result.csv", row.names = FALSE)

# ------------------------------------------------------------------
# End of script --------------------------------------------------------
# ------------------------------------------------------------------
```

### How it works

| Step | What the code does |
|------|--------------------|
| 1 | Loads `data.table`. If the package is missing, the script stops with an informative message. |
| 2 | Reads `offices.csv` and `homes.csv` into data.tables `offices` and `homes`. The `colClasses` argument forces both columns to be of type `character`, ensuring that the output columns are text. |
| 3 | Performs an **inner join** (`all = FALSE`) on the key column `employee_id`. Only rows that exist in **both** tables are kept. |
| 4 | Writes the joined data.table to `result.csv` using `fwrite`, which is the fast, convenient counterpart of `write.csv`. |

### Running the script

1. Save the code to a file, e.g. `join_offices_homes.R`.
2. Make sure the two input files (`offices.csv` and `homes.csv`) are in the same directory, or provide full paths in the `fread()` calls.
3. In a terminal, run:

```bash
Rscript join_offices_homes.R
```

After the script finishes, you will find `result.csv` in the same directory, containing only the rows where an `employee_id` appears in both input files.


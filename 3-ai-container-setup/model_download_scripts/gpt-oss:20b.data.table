Thinking...
The user wants an R program using data.table to do specified tasks. Provide code: load data.table, read CSV, join with inner join on employee_id, write to CSV. Provide explanation, maybe full script with comments.

Edge cases: ensure columns are character, read as strings, maybe use fread.

Also can include specifying header, stringsAsFactors=FALSE, but fread handles. Use setkey for join.

Example code:

library(data.table)
offices <- fread('offices.csv', colClasses = c(employee_id='character', work_address='character'))
homes <- fread('homes.csv', colClasses = c(employee_id='character', home_address='character'))

setkey(offices, employee_id)
setkey(homes, employee_id)

result <- offices[homes, nomatch=0, .(employee_id, work_address, home_address)]

or equivalently: result <- merge(offices, homes, by='employee_id', all=FALSE, sort=FALSE). Write:

fwrite(result, 'result.csv')

Better to ensure order or drop extra columns.

Also might show example of reading if not specified: set names.

The user likely expects a script. Provide full code.

We can add comments.

Also mention install.packages if missing.

Let's produce answer: R script with step-by-step.

Make sure to load data.table, read, set key, join, write. Use .SD or .() as needed.

Add 'result' name. Provide final output. Provide error handling.

Write final answer.
...done thinking.

Below is a **stand‑alone R script** that does exactly what you asked for.  
Save it to a file (e.g. `join_offices_homes.R`) and run it from the terminal or R console.

```r
#!/usr/bin/env Rscript
# ------------------------------------------------------------------
#  join_offices_homes.R
#
#  Reads two CSV files, joins them on employee_id (inner join),
#  and writes the result to result.csv.
# ------------------------------------------------------------------

# ------------------------------------------------------------------
#  0. Load data.table (install if necessary)
# ------------------------------------------------------------------
if (!requireNamespace("data.table", quietly = TRUE)) {
  install.packages("data.table", repos = "https://cloud.r-project.org")
}
library(data.table)

# ------------------------------------------------------------------
#  1. Read offices.csv
# ------------------------------------------------------------------
# Use fread for fast, memory‑efficient loading.
# Specify column types explicitly so everything stays as text.
offices <- fread(
  file   = "offices.csv",
  colClasses = list(
    employee_id = "character",
    work_address = "character"
  )
)

# ------------------------------------------------------------------
#  2. Read homes.csv
# ------------------------------------------------------------------
homes <- fread(
  file   = "homes.csv",
  colClasses = list(
    employee_id = "character",
    home_address = "character"
  )
)

# ------------------------------------------------------------------
#  3. Join the two tables on employee_id (inner join only)
# ------------------------------------------------------------------
# Setting keys allows for a fast binary join.
setkey(offices, employee_id)
setkey(homes,   employee_id)

# Perform the join.  The 'nomatch = 0L' argument ensures
# that only rows present in BOTH tables are kept.
result <- offices[homes, nomatch = 0L, .(
  employee_id,
  work_address,
  home_address
)]

# ------------------------------------------------------------------
#  4. Write the joined table to result.csv
# ------------------------------------------------------------------
fwrite(result, file = "result.csv", row.names = FALSE)

# ------------------------------------------------------------------
#  Done
# ------------------------------------------------------------------
cat("Joined table written to 'result.csv'.\n")
```

### How it works

| Step | What the code does |
|------|--------------------|
| **0** | Loads `data.table`; installs it if it isn’t already available. |
| **1** | Reads `offices.csv` into a data.table called `offices`. `colClasses` forces both columns to be character strings. |
| **2** | Reads `homes.csv` into a data.table called `homes` with the same type safety. |
| **3** | Sets `employee_id` as the key on each table, then performs an **inner join** (`nomatch = 0L`). The result contains only the common `employee_id`s and the three required columns. |
| **4** | Writes the resulting data.table to `result.csv` using `fwrite`, which is faster than `write.csv`. |

> **Tip** – If your CSV files contain a header row (as usual), `fread` automatically uses those names.  
> If you ever need a *left* or *right* join, replace `nomatch = 0L` with `nomatch = NA` (left) or swap the tables (right).

Enjoy the fast, memory‑efficient data manipulation that `data.table` offers!

